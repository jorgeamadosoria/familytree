<html>

<head>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/tippy.css" />

    <link rel="stylesheet" href="css/all.min.css">
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/cytoscape.min.js"></script>
    <script src="js/cytoscape-popper.js"></script>

    <script src="js/all.min.js"></script>
    <script src="js/tippy.all.js"></script>

</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <img class="navbar-brand logo" src="img/logo.png">
        <h3 class="d-flex">&Aacute;rbol geneal&oacute;gico</h3>
        <ul class="nav d-inline-flex">
            <li class="list-inline-item">
                <select id="tree-select" class="custom-select">
                </select>
            </li>
            <li class="list-inline-item"><a class="nav-link" href="https://github.com/jorgeamadosoria/familytree" title="github"><i
                        class="fab fa-github fa-2x text-muted"></i></a></li>
            <li class="list-inline-item"><a class="nav-link" href="#" title="about" data-toggle="modal" data-target="#about"><i
                        class="fas fa-info-circle fa-2x text-muted"></i></a></li>
        </ul>

    </nav>
    <div class="content">
        <div id="graph">
        </div>
    </div>
    <div id="about" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Acerca de esta aplicación</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Esta aplicación representa el árbol genealógico de mi familia, con información muy básica sobre
                        los miembros de la familia y su relación entre sí.</p>
                    <p>El objetivo es conservar la memoria de la familia de forma pública y visible, incluyendo tantas
                        personas como sea posible. Se aceptan contribuciones e información adicional sobre familiares
                        <a href="mailto:jorgeamadosoria@gmail.com">aquí</a></p>
                    <p>Este pequeño proyecto fue hecho con las siguientes tecnologías del lado del cliente (y ninguna
                        del lado del servidor):</p>
                    <ul class="unstyle list-inline">
                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/html5.png" title="HTML5">
                                </div>
                        </li>
                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/css3.png" title="CSS3">
                                </div>
                        </li>

                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/bootstrap.png" title="Bootstrap">
                                </div>
                        </li>
                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/fontawesome.png" title="Font Awesome">
                                </div>
                        </li>
                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/cytoscape.png" title="Cytoscape.js">
                                </div>
                            </div>
                        </li>
                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/vanillajs.jpg" title="VanillaJS">
                                </div>
                        </li>

                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/tippy.svg" title="tippy.js">
                                </div>
                        </li>
                        <li class="list-inline-item">
                            <div class="card">
                                <div class="card-body">
                                    <img class="tech-about" src="img/jQuery.png" title="jQuery">
                                </div>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="person" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><span id="name"></span><sub id="nickname-content">(<span id="nickname"></span>)</sub>
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div>
                        <p id="birth-content"><sub>Nacimiento:&nbsp;<span id="birth"></span></sub></p>
                        <p id="death-content"><sub>Muerte:&nbsp;<span id="death"></span></sub></p>
                        <p id="tree-content"><sub><a id="tree" href="#">Ver &aacute;rbol&nbsp;&nbsp;<i class="fa fa-external-link-square-alt"></i></a></sub></p>
                        <p id="comments"></p>
                    </div>
                    <div id="photos" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">

                        </div>
                        <a class="carousel-control-prev" href="#photos" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#photos" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="tooltip"></div>
    <div id="carousel-template" class="carousel-item w-100 hidden">
        <div class="d-flex justify-content-center">
            <img id="image" class="fixed-height d-block" src="">
        </div>
    </div>
    <!-- do not change the order of these scripts! Since this is vanillaJS, the order of import matters -->
    <script src="js/vars.js"></script>
    <script>
        var trees = ['jasr', 'amal'];
        var tree = getUrlParameter('tree');
        $(trees).each((idx, val) => {
            $('#tree-select').append("<option " + (tree == val?'selected':'')+ " value=" + val + ">" + val + "</option>")
        });
        

        $.getScript("./data/" + tree + ".js");
    </script>
</body>

</html>